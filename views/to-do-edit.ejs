<%- include('./template/header'); %>

<!--start page wrapper -->
<link
  rel="stylesheet"
  href="//code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css"
/>
<!-- <link rel="stylesheet" href="/resources/demos/style.css" /> -->
<script src="https://code.jquery.com/jquery-3.6.0.js"></script>
<script src="https://code.jquery.com/ui/1.13.2/jquery-ui.js"></script>
<link
  rel="stylesheet"
  href="//cdnjs.cloudflare.com/ajax/libs/timepicker/1.3.5/jquery.timepicker.min.css"
/>
<script src="//cdnjs.cloudflare.com/ajax/libs/timepicker/1.3.5/jquery.timepicker.min.js"></script>

<div class="page-wrapper todogeneral">
  <div class="page-content">
    <!--breadcrumb-->
    <div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3">
      <div class="ps-3"></div>
      <div class="ms-auto">
        <div class="btn-group">
          <div class="dropdown-menu dropdown-menu-right dropdown-menu-lg-end">
            <a class="dropdown-item" href="javascript:;">Action</a>
            <a class="dropdown-item" href="javascript:;">Another action</a>
            <a class="dropdown-item" href="javascript:;">Something else here</a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="javascript:;">Separated link</a>
          </div>
        </div>
      </div>
    </div>
    <!--end breadcrumb-->

    <div class="card">
      <div class="card-body">
        <h4 class="mb-0">Edit Timesheet <%= workLog.Id %></h4>

        <form method="post" action="/edit/<%= workLog.Id %>">
          <!-- 1strow -->
          <div class="row gy-3">
            <div class="col-md-4">
              <label for="datepicker"> Date: </label>
              <input
                type="text"
                id="workDate"
                name="workDate"
                class="form-control"
                value="<%= workLog.workDate %>"
                disabled
              />
              <input
                type="hidden"
                id="workDate"
                name="workDate"
                class="form-control"
                value="<%= workLog.workDate %>"
              />
            </div>
            <div class="col-md-4">
              <label for="startTime">Start Time:</label>
              <input
                type="time"
                id="workStart"
                class="form-control"
                autocomplete="off"
                name="workStart"
                value="<%= workLog.workStart %>"
                required
              />
            </div>
            <div class="col-md-4">
              <label for="endTime">End Time:</label>
              <input
                type="time"
                id="workEnd"
                class="form-control"
                autocomplete="off"
                name="workEnd"
                value="<%= workLog.workEnd %>"
                required

              />
              
            </div>
          </div>

          <!-- 2ndrow -->
          <hr />
          <div class="row gy-3">
            <div class="col-md-6">
              <div class="dropdown">
                <select
                  class="form-select mb-3"
                  aria-label="Default select example"
                  name="nama_Tugas"
                  id="nama_Tugas"
                required

                >
                  <option>Tipe Pekerjaan</option>
                  <option value="Audit" <% if (workLog.nama_Tugas === 'Audit') { %> selected <% } %> >
                    Audit</option>
                  <option value="BAU" <% if (workLog.nama_Tugas === 'BAU') { %> selected <% } %> >
                    BAU</option>
                  <option value="Project" <% if (workLog.nama_Tugas === 'Project') { %> selected <% } %> >
                    Project</option>
                  <option value="CR" <% if (workLog.nama_Tugas === 'CR') { %> selected <% } %> >
                    CR</option>
                  <option value="SWR" <% if (workLog.nama_Tugas === 'SWR') { %> selected <% } %> >
                    SWR</option>
                </select>
              </div>
            </div>
            <div class="col-md-6">
              <div class="dropdown">
                <select
                  class="form-select mb-3"
                  aria-label="Default select example"
                  name="prioritas"
                  id="prioritas"
                required

                >
                  <option>Prioritas</option>
                  <option value="Tinggi" <% if (workLog.prioritas === 'Tinggi') { %> selected <% } %>>Tinggi</option>
                  <option value="Sedang" <% if (workLog.prioritas === 'Sedang') { %> selected <% } %>>Sedang</option>
                  <option value="Rendah" <% if (workLog.prioritas === 'Rendah') { %> selected <% } %>>Rendah</option>
                </select>
              </div>
            </div>
            <div class="col-md-12">
              <textarea
                class="form-control"
                id="description"
                placeholder="Deskripsi Pekerjaan"
                rows="3"
                name="description"
                required

              ><%= workLog.description %></textarea>
            </div>
            <div class="col-md-5 text-end d-grid">
              <button type="submit" class="btn btn-success">Edit</button>
            </div>
          </div>

          <div class="form-row mt-3">
            <div class="col-12">
              <div id="todo-container"></div>
            </div>
          </div>
        </form>

        <% if(typeof successMessage!== 'undefined') { %>
        <script>
          alert("<%= successMessage %>");
        </script>
        <%}%>
      </div>
    </div>
  </div>
</div>
<!--end page wrapper -->
<!--start overlay-->
<div class="overlay toggle-icon"></div>
<!--end overlay-->
<!--Start Back To Top Button-->
<a href="javaScript:;" class="back-to-top"
  ><i class="bx bxs-up-arrow-alt"></i
></a>
<!--End Back To Top Button-->
<footer class="page-footer">
  <p class="mb-0">Copyright Â© 2024. All right reserved.</p>
</footer>

<!--end wrapper-->
<!-- Bootstrap JS -->
<script src="assets/js/bootstrap.bundle.min.js"></script>
<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script> -->
<script src="//cdnjs.cloudflare.com/ajax/libs/timepicker/1.3.5/jquery.timepicker.min.js"></script>
<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-timepicker/0.5.2/js/bootstrap-timepicker.min.js"></script> -->
<!--plugins-->
<script src="assets/js/jquery.min.js"></script>
<script src="assets/plugins/simplebar/js/simplebar.min.js"></script>
<script src="assets/plugins/metismenu/js/metisMenu.min.js"></script>
<script src="assets/plugins/perfect-scrollbar/js/perfect-scrollbar.js"></script>
<!--app JS-->
<script src="assets/js/app.js"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<script src="https://code.jquery.com/jquery-3.6.0.js"></script>
<script src="https://code.jquery.com/ui/1.13.2/jquery-ui.js"></script>

<script>
  // Inisialisasi Datepicker
  $("#datepicker").datepicker({
    format: "yyyy-mm-dd",
    autoclose: true,
  });

  // Inisialisasi Timepicker untuk Jam Mulai
  //   $("#startTime").timepicker({
  //     // showMeridian: false, // Ubah ini menjadi false untuk format 24 jam
  //     // defaultTime: false,
  //     use24hours: true,
  //     format: "HH:mm",
  //   });

  $("#startTime").timepicker({
    timeFormat: "HH:mm",

    interval: 1,

    minTime: "00:00",

    maxTime: "23:59",

    defaultTime: "0",

    startTime: "00:00",

    dynamic: false,

    dropdown: true,

    scrollbar: true,
  });

  // Inisialisasi Timepicker untuk Jam Selesai
  //   $("#endTime").timepicker({
  //     // showMeridian: false, // Ubah ini menjadi false untuk format 24 jam
  //     // defaultTime: false,
  //     format: "HH:mm",
  //     use24hours: true,
  //   });

  $("#endTime").timepicker({
    timeFormat: "HH:mm",

    interval: 1,

    minTime: "00:00",

    maxTime: "23:59",

    defaultTime: "0",

    startTime: "00:00",

    dynamic: false,

    dropdown: true,

    scrollbar: true,
  });
</script>

<%- include('./template/footer'); %>
